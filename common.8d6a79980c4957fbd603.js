(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{Gdn9:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ProductService});var rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2Vo4"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("fXoL"),_angular_fire_database__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("sSZD");let ProductService=(()=>{class ProductService{constructor(e){this.db=e,this.products=new rxjs__WEBPACK_IMPORTED_MODULE_0__.a([])}getProducts(){return new Promise(e=>{this.db.database.ref("products").once("value").then(r=>{this.originProducts=r.val(),this.products.next(r.val()),e(r.val())})})}getProductById(e){return new Promise(r=>{this.db.database.ref("products/"+e).once("value").then(e=>{r(e.val())})})}sorting(condition){const sortedProducts=this.products.getValue().sort((a,b)=>eval(`${"-"===condition.operator?"a.":"b."}${condition.value}\n                      -\n                      ${"+"===condition.operator?"a.":"b."}${condition.value}`));this.products.next(sortedProducts)}filter(e){let r=[],t=[],_=[],o=[];r=e.categories.length?this.originProducts.filter(r=>r.category.toLowerCase()===e.categories):this.originProducts,t=e.brands.length?r.filter(r=>e.brands.includes(r.farm.toLowerCase())):r,_=e.rating.length?t.filter(r=>e.rating.includes(r.rating.toString())):t,o=e.price.length?_.filter(r=>r.price>=e.price[0]&&r.price<=e.price[1]):_,this.products.next(o)}reset(){this.products.next(this.originProducts)}}return ProductService.\u0275fac=function(e){return new(e||ProductService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(_angular_fire_database__WEBPACK_IMPORTED_MODULE_2__.a))},ProductService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Mb({token:ProductService,factory:ProductService.\u0275fac,providedIn:"root"}),ProductService})()}}]);