(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{Gdn9:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ProductService});var rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2Vo4"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("fXoL"),_angular_fire_database__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("sSZD");let ProductService=(()=>{class ProductService{constructor(t){this.db=t,this.products=new rxjs__WEBPACK_IMPORTED_MODULE_0__.a([])}getProducts(){return new Promise(t=>{this.db.database.ref("products").once("value").then(e=>{this.originProducts=e.val(),this.products.next(e.val()),t(e.val())})})}getProductById(t){return new Promise(e=>{this.db.database.ref("products/"+t).once("value").then(t=>{e(t.val())})})}filterByCategory(t){this.products.next(this.originProducts);const e=this.products.getValue().filter(e=>e.category.toLowerCase()===t);this.products.next(e)}filterByBrand(t){if(t.length){const e=this.products.getValue().filter(e=>t.includes(e.farm.replace(/\s/g,"").toLowerCase()));this.products.next(e)}else this.products.next(this.originProducts)}filterByRating(t){if(t.length){const e=this.products.getValue().filter(e=>t.includes(e.rating.toString()));this.products.next(e)}else this.products.next(this.originProducts)}filterByPrice(t){if(t.length){const e=this.products.getValue().filter(e=>e.price>=t[0]&&e.price<=t[1]);this.products.next(e)}else this.products.next(this.originProducts)}sorting(condition){const val=this.products.getValue().sort((a,b)=>eval(`${"-"===condition.operator?"a.":"b."}${condition.value}\n                      -\n                      ${"+"===condition.operator?"a.":"b."}${condition.value}`));this.products.next(val)}}return ProductService.\u0275fac=function(t){return new(t||ProductService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(_angular_fire_database__WEBPACK_IMPORTED_MODULE_2__.a))},ProductService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Mb({token:ProductService,factory:ProductService.\u0275fac,providedIn:"root"}),ProductService})()}}]);