(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{Gdn9:function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=r("2Vo4"),c=r("fXoL"),o=r("sSZD"),s=r("c14U");let n=(()=>{class t{constructor(t,e){this.db=t,this.cartService=e,this.products=new i.a([])}getProducts(){return new Promise(t=>{this.db.database.ref("products").once("value").then(e=>{this.cartService.getOrderList().then(),this.originProducts=e.val(),this.products.next(e.val()),t(e.val())})})}getProductById(t){return new Promise(e=>{this.db.database.ref("products/"+t).once("value").then(t=>{e(t.val())})})}sorting(t){const e=this.products.getValue().sort((e,r)=>{switch(t.operator){case"lowToHigh":switch(t.value){case"price":return e.price-r.price;case"rating":return e.rating-r.rating}break;case"highToLow":switch(t.value){case"price":return r.price-e.price;case"rating":return r.rating-e.rating}}});this.products.next(e)}filter(t){const e=t.brands.filter(t=>"boolean"!=typeof t),r=t.rating.filter(t=>"boolean"!=typeof t);let i=[],c=[],o=[],s=[];i=t.categories.length?this.originProducts.filter(e=>e.category.toLowerCase()===t.categories):this.originProducts,c=e.length?i.filter(t=>e.includes(t.farm.toLowerCase())):i,o=r.length?c.filter(t=>r.includes(t.rating.toString())):c,s=o.filter(e=>e.price>=t.price.minPrice&&e.price<=t.price.maxPrice),this.products.next(s)}reset(){this.products.next(this.originProducts)}}return t.\u0275fac=function(e){return new(e||t)(c.cc(o.a),c.cc(s.a))},t.\u0275prov=c.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);